{
  "packageName": "@wixc3/react-board",
  "packageVersion": "2.3.0",
  "request": "@wixc3/react-board",
  "resolved": "dist/index.js",
  "files": {
    "dist/index.js": "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./create-board\"), exports);\n__exportStar(require(\"./types\"), exports);\n//# sourceMappingURL=index.js.map",
    "package.json": "{\n  \"name\": \"@wixc3/react-board\",\n  \"description\": \"Library for creation of React component boards\",\n  \"version\": \"2.3.0\",\n  \"main\": \"dist/index.js\",\n  \"peerDependencies\": {\n    \"react\": \"^16.0.0 || ^17.0.0 || ^18.0.0\",\n    \"react-dom\": \"^16.0.0 || ^17.0.0 || ^18.0.0\"\n  },\n  \"dependencies\": {\n    \"@wixc3/board-core\": \"^2.3.0\"\n  },\n  \"files\": [\n    \"dist\",\n    \"!dist/test\",\n    \"src\",\n    \"ensure-board-format*\",\n    \"!*/tsconfig.{json,tsbuildinfo}\"\n  ],\n  \"license\": \"MIT\",\n  \"repository\": \"https://github.com/wixplosives/codux-core/tree/master/packages/react-board\",\n  \"homepage\": \"https://github.com/wixplosives/codux-core\",\n  \"publishConfig\": {\n    \"access\": \"public\"\n  }\n}\n",
    "dist/create-board.js": "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBoard = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst board_core_1 = require(\"@wixc3/board-core\");\nconst react_error_handled_render_1 = require(\"./react-error-handled-render\");\nfunction createBoard(input) {\n    const res = (0, board_core_1.createRenderableBase)(Object.assign(Object.assign({}, input), { render(target) {\n            return (0, board_core_1.baseRender)(res, async () => {\n                var _a;\n                let element = react_1.default.createElement(res.Board, null);\n                const wrapRenderPlugins = (0, board_core_1.getPluginsWithHooks)(res, 'wrapRender');\n                for (const plugin of wrapRenderPlugins) {\n                    if ((_a = plugin.key.plugin) === null || _a === void 0 ? void 0 : _a.wrapRender) {\n                        const el = plugin.key.plugin.wrapRender(plugin.props, res, element, target);\n                        element = el || element;\n                    }\n                }\n                return (0, react_error_handled_render_1.reactErrorHandledRendering)(element, target);\n            }, target);\n        } }));\n    return res;\n}\nexports.createBoard = createBoard;\n//# sourceMappingURL=create-board.js.map",
    "dist/types.js": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map",
    "dist/react-error-handled-render.js": "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reactErrorHandledRendering = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst react_dom_1 = __importDefault(require(\"react-dom\"));\nconst client_1 = __importDefault(require(\"react-dom/client\"));\nconst reactRootByContainer = new WeakMap();\nconst reactErrorHandledRendering = async (element, container) => {\n    if (client_1.default.createRoot) {\n        // react 18+\n        const reactRoot = reactRootByContainer.get(container) || client_1.default.createRoot(container);\n        reactRootByContainer.set(container, reactRoot);\n        const cleanup = () => {\n            reactRoot === null || reactRoot === void 0 ? void 0 : reactRoot.unmount();\n            reactRootByContainer.delete(container);\n        };\n        try {\n            await new Promise((resolve, reject) => {\n                reactRoot === null || reactRoot === void 0 ? void 0 : reactRoot.render(react_1.default.createElement(ErrorBoundary, { onRender: resolve, reportError: reject }, element));\n            });\n        }\n        catch (e) {\n            cleanup();\n            throw e;\n        }\n        return cleanup;\n    }\n    else {\n        // react <18\n        // eslint-disable-next-line react/no-deprecated\n        const cleanup = () => react_dom_1.default.unmountComponentAtNode(container);\n        try {\n            await new Promise((resolve, reject) => {\n                // eslint-disable-next-line react/no-deprecated\n                react_dom_1.default.render(react_1.default.createElement(ErrorBoundary, { reportError: reject }, element), container, resolve);\n            });\n        }\n        catch (e) {\n            /**\n             * If an error occurs during ReactDOM.render(), React 17 will keep\n             * _reactRootContainer property attached to the container DOM node.\n             * This property points to an a stale fiber object, which prevents\n             * subsequent ReactDOM.render() calls from working.\n             */\n            cleanup();\n            throw e;\n        }\n        return cleanup;\n    }\n};\nexports.reactErrorHandledRendering = reactErrorHandledRendering;\nclass ErrorBoundary extends react_1.default.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { hasError: false };\n    }\n    static getDerivedStateFromError() {\n        return { hasError: true };\n    }\n    componentDidCatch(error, errorInfo) {\n        var _a, _b;\n        (_b = (_a = this.props).reportError) === null || _b === void 0 ? void 0 : _b.call(_a, error, errorInfo);\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (!this.state.hasError) {\n            (_b = (_a = this.props).onRender) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    componentDidUpdate() {\n        var _a, _b;\n        if (!this.state.hasError) {\n            (_b = (_a = this.props).onRender) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    render() {\n        return this.state.hasError ? null : this.props.children;\n    }\n}\n//# sourceMappingURL=react-error-handled-render.js.map"
  },
  "externals": [
    "react",
    "@wixc3/board-core",
    "react-dom",
    "react-dom/client"
  ]
}
